(function(e){e.fn.unmask=function(k,f){function g(){var a=b.scrollTop(),l=a+b.height();h=c.filter(function(){var b=e(this);if(b.is(":hidden"))return!0;var c=b.offset().top;return c+b.height()>=a-d.threshold&&c<=l+d.threshold}).trigger("unmask");c=c.not(h)}var b=e(window),d=e.extend({},{mobile:767,tablet:1024,threshold:0,background:!1,source:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},k),m=1<window.devicePixelRatio,c=this,h;this.one("unmask",function(){var a=b.width()>
d.tablet?m?"data-src-retina":"data-src":b.width()>d.mobile?"data-src-tablet":"data-src-mobile",a=this.getAttribute(a),c=this.getAttribute("src");if(a=a||this.getAttribute("data-src"))d.background?this.style.backgroundImage="url("+a+")":this.setAttribute("src",a),"function"===typeof f&&f.call(this),e(this).one("error",function(){this.setAttribute("src",c)})});c.each(function(){var a;d.background?(a=this.style.backgroundImage,this.style.backgroundImage="url("+d.source+")"):(a=this.getAttribute("src"),
this.setAttribute("src",d.source));this.setAttribute("data-src",this.getAttribute("data-src")||a)});b.on("scroll.unmask resize.unmask lookup.unmask touchmove.unmask",g);g();return this}})(window.jQuery);
